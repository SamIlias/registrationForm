(()=>{var e={668:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var s=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,o=new t(512),l=new t(512),u=new t(512);function c(e){return o.get(e)||o.set(e,h(e).map((function(e){return e.replace(a,"$2")})))}function h(e){return e.match(s)||[""]}function d(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function p(e){return!d(e)&&(function(e){return e.match(i)&&!e.match(n)}(e)||function(e){return r.test(e)}(e))}e.exports={Cache:t,split:h,normalizePath:c,setter:function(e){var t=c(e);return l.get(e)||l.set(e,(function(e,s){for(var n=0,i=t.length,r=e;n<i-1;){var a=t[n];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;r=r[t[n++]]}r[t[n]]=s}))},getter:function(e,t){var s=c(e);return u.get(e)||u.set(e,(function(e){for(var n=0,i=s.length;n<i;){if(null==e&&t)return;e=e[s[n++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(d(t)||n.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,s){!function(e,t,s){var n,i,r,a,o=e.length;for(i=0;i<o;i++)(n=e[i])&&(p(n)&&(n='"'+n+'"'),r=!(a=d(n))&&/^\d+$/.test(n),t.call(s,n,a,r,i,e))}(Array.isArray(e)?e:h(e),t,s)}}},714:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,s=e=>e.match(t)||[],n=e=>e[0].toUpperCase()+e.slice(1),i=(e,t)=>s(e).join(t).toLowerCase(),r=e=>s(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");e.exports={words:s,upperFirst:n,camelCase:r,pascalCase:e=>n(r(e)),snakeCase:e=>i(e,"_"),kebabCase:e=>i(e,"-"),sentenceCase:e=>n(i(e," ")),titleCase:e=>s(e).map(n).join(" ")}},981:e=>{function t(e,t){var s=e.length,n=new Array(s),i={},r=s,a=function(e){for(var t=new Map,s=0,n=e.length;s<n;s++){var i=e[s];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),o=function(e){for(var t=new Map,s=0,n=e.length;s<n;s++)t.set(e[s],s);return t}(e);for(t.forEach((function(e){if(!o.has(e[0])||!o.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));r--;)i[r]||l(e[r],r,new Set);return n;function l(e,t,r){if(r.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!o.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var c=a.get(e)||new Set;if(t=(c=Array.from(c)).length){r.add(e);do{var h=c[--t];l(h,o.get(h),r)}while(t);r.delete(e)}n[--s]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,s=0,n=e.length;s<n;s++){var i=e[s];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=e=>"string"==typeof e,t=()=>{let e,t;const s=new Promise(((s,n)=>{e=s,t=n}));return s.resolve=e,s.reject=t,s},n=e=>null==e?"":""+e,i=/###/g,r=e=>e&&e.indexOf("###")>-1?e.replace(i,"."):e,a=t=>!t||e(t),o=(t,s,n)=>{const i=e(s)?s.split("."):s;let o=0;for(;o<i.length-1;){if(a(t))return{};const e=r(i[o]);!t[e]&&n&&(t[e]=new n),t=Object.prototype.hasOwnProperty.call(t,e)?t[e]:{},++o}return a(t)?{}:{obj:t,k:r(i[o])}},l=(e,t,s)=>{const{obj:n,k:i}=o(e,t,Object);if(void 0!==n||1===t.length)return void(n[i]=s);let r=t[t.length-1],a=t.slice(0,t.length-1),l=o(e,a,Object);for(;void 0===l.obj&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),l=o(e,a,Object),l?.obj&&void 0!==l.obj[`${l.k}.${r}`]&&(l.obj=void 0);l.obj[`${l.k}.${r}`]=s},u=(e,t)=>{const{obj:s,k:n}=o(e,t);if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]},c=(t,s,n)=>{for(const i in s)"__proto__"!==i&&"constructor"!==i&&(i in t?e(t[i])||t[i]instanceof String||e(s[i])||s[i]instanceof String?n&&(t[i]=s[i]):c(t[i],s[i],n):t[i]=s[i]);return t},h=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const p=t=>e(t)?t.replace(/[&<>"'\/]/g,(e=>d[e])):t,f=[" ",",","?","!",";"],g=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}(20),m=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const n=t.split(s);let i=e;for(let e=0;e<n.length;){if(!i||"object"!=typeof i)return;let t,r="";for(let a=e;a<n.length;++a)if(a!==e&&(r+=s),r+=n[a],t=i[r],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<n.length-1)continue;e+=a-e+1;break}i=t}return i},y=e=>e?.replace("_","-"),v={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class b{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,s,n,i){return i&&!this.debug?null:(e(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[s](t))}create(e){return new b(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new b(this.logger,e)}}var x=new b;class w{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const s=this.observers[e].get(t)||0;this.observers[e].set(t,s+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach((e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...s)})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((t=>{let[n,i]=t;for(let t=0;t<i;t++)n.apply(n,[e,...s])}))}}class k extends w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(t,s,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,s],n&&(Array.isArray(n)?o.push(...n):e(n)&&r?o.push(...n.split(r)):o.push(n)));const l=u(this.data,o);return!l&&!s&&!n&&t.indexOf(".")>-1&&(t=o[0],s=o[1],n=o.slice(2).join(".")),!l&&a&&e(n)?m(this.data?.[t]?.[s],n,r):l}addResource(e,t,s,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let a=[e,t];s&&(a=a.concat(r?s.split(r):s)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),l(this.data,a,n),i.silent||this.emit("added",e,t,s,n)}addResources(t,s,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)(e(n[i])||Array.isArray(n[i]))&&this.addResource(t,s,i,n[i],{silent:!0});i.silent||this.emit("added",t,s,n)}addResourceBundle(e,t,s,n,i){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=s,s=t,t=a[1]),this.addNamespaces(t);let o=u(this.data,a)||{};r.skipCopy||(s=JSON.parse(JSON.stringify(s))),n?c(o,s,i):o={...o,...s},l(this.data,a,o),r.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var O={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,n,i){return e.forEach((e=>{t=this.processors[e]?.process(t,s,n,i)??t})),t}};const S={},_=t=>!e(t)&&"boolean"!=typeof t&&"number"!=typeof t;class $ extends w{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s,n;super(),s=e,n=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{s[e]&&(n[e]=s[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=x.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const s=this.resolve(e,t);return void 0!==s?.res}extractFromKey(t,s){let n=void 0!==s.nsSeparator?s.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator;let r=s.ns||this.options.defaultNS||[];const a=n&&t.indexOf(n)>-1,o=!(this.options.userDefinedKeySeparator||s.keySeparator||this.options.userDefinedNsSeparator||s.nsSeparator||((e,t,s)=>{t=t||"",s=s||"";const n=f.filter((e=>t.indexOf(e)<0&&s.indexOf(e)<0));if(0===n.length)return!0;const i=g.getRegExp(`(${n.map((e=>"?"===e?"\\?":e)).join("|")})`);let r=!i.test(e);if(!r){const t=e.indexOf(s);t>0&&!i.test(e.substring(0,t))&&(r=!0)}return r})(t,n,i));if(a&&!o){const s=t.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:t,namespaces:e(r)?[r]:r};const a=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(a[0])>-1)&&(r=a.shift()),t=a.join(i)}return{key:t,namespaces:e(r)?[r]:r}}translate(t,s,n){if("object"!=typeof s&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof s&&(s={...s}),s||(s={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);const i=void 0!==s.returnDetails?s.returnDetails:this.options.returnDetails,r=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(t[t.length-1],s),l=o[o.length-1],u=s.lng||this.language,c=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===u?.toLowerCase()){if(c){const e=s.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:`${l}${e}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:a}const h=this.resolve(t,s);let d=h?.res;const p=h?.usedKey||a,f=h?.exactUsedKey||a,g=void 0!==s.joinArrays?s.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==s.count&&!e(s.count),v=$.hasDefaultValue(s),b=y?this.pluralResolver.getSuffix(u,s.count,s):"",x=s.ordinal&&y?this.pluralResolver.getSuffix(u,s.count,{ordinal:!1}):"",w=y&&!s.ordinal&&0===s.count,k=w&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${b}`]||s[`defaultValue${x}`]||s.defaultValue;let O=d;m&&!d&&v&&(O=k);const S=_(O),C=Object.prototype.toString.apply(O);if(!(m&&O&&S&&["[object Number]","[object Function]","[object RegExp]"].indexOf(C)<0)||e(g)&&Array.isArray(O))if(m&&e(g)&&Array.isArray(d))d=d.join(g),d&&(d=this.extendTranslation(d,t,s,n));else{let e=!1,i=!1;!this.isValidLookup(d)&&v&&(e=!0,d=k),this.isValidLookup(d)||(i=!0,d=a);const o=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:d,c=v&&k!==d&&this.options.updateMissing;if(i||e||c){if(this.logger.log(c?"updateKey":"missingKey",u,l,a,c?k:d),r){const e=this.resolve(a,{...s,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let s=0;s<t.length;s++)e.push(t[s]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(s.lng||this.language):e.push(s.lng||this.language);const n=(e,t,n)=>{const i=v&&n!==d?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,i,c,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,i,c,s),this.emit("missingKey",e,l,t,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach((e=>{const t=this.pluralResolver.getSuffixes(e,s);w&&s[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach((t=>{n([e],a+t,s[`defaultValue${t}`]||k)}))})):n(e,a,k))}d=this.extendTranslation(d,t,s,h,n),i&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(i||e)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,e?d:void 0))}else{if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,O,{...s,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(h.res=e,h.usedParams=this.getUsedParamsDetails(s),h):e}if(r){const e=Array.isArray(O),t=e?[]:{},n=e?f:p;for(const e in O)if(Object.prototype.hasOwnProperty.call(O,e)){const i=`${n}${r}${e}`;t[e]=v&&!d?this.translate(i,{...s,defaultValue:_(k)?k[e]:void 0,joinArrays:!1,ns:o}):this.translate(i,{...s,joinArrays:!1,ns:o}),t[e]===i&&(t[e]=O[e])}d=t}}return i?(h.res=d,h.usedParams=this.getUsedParamsDetails(s),h):d}extendTranslation(t,s,n,i,r){var a=this;if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const o=e(t)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(o){const e=t.match(this.interpolator.nestingRegexp);l=e&&e.length}let u=n.replace&&!e(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,n.lng||this.language||i.usedLng,n),o){const e=t.match(this.interpolator.nestingRegexp);l<(e&&e.length)&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r?.[0]!==t[0]||n.context?a.translate(...t,s):(a.logger.warn(`It seems you are nesting recursively key: ${t[0]} in key: ${s[0]}`),null)}),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=e(o)?[o]:o;return null!=t&&l?.length&&!1!==n.applyPostProcessor&&(t=O.handle(l,t,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let s,n,i,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(t)&&(t=[t]),t.forEach((t=>{if(this.isValidLookup(s))return;const l=this.extractFromKey(t,o),u=l.key;n=u;let c=l.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const h=void 0!==o.count&&!e(o.count),d=h&&!o.ordinal&&0===o.count,p=void 0!==o.context&&(e(o.context)||"number"==typeof o.context)&&""!==o.context,f=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);c.forEach((e=>{this.isValidLookup(s)||(a=e,S[`${f[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(a)||(S[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${f.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((t=>{if(this.isValidLookup(s))return;r=t;const n=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(n,u,t,e,o);else{let e;h&&(e=this.pluralResolver.getSuffix(t,o.count,o));const s=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.push(u+e),o.ordinal&&0===e.indexOf(i)&&n.push(u+e.replace(i,this.options.pluralSeparator)),d&&n.push(u+s)),p){const t=`${u}${this.options.contextSeparator}${o.context}`;n.push(t),h&&(n.push(t+e),o.ordinal&&0===e.indexOf(i)&&n.push(t+e.replace(i,this.options.pluralSeparator)),d&&n.push(t+s))}}let a;for(;a=n.pop();)this.isValidLookup(s)||(i=a,s=this.getResource(t,e,a,o))})))}))})),{res:s,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:a}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,n):this.resourceStore.getResource(e,t,s,n)}getUsedParamsDetails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!e(t.replace);let i=n?t.replace:t;if(n&&void 0!==t.count&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const e of s)delete i[e]}return i}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}class C{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=x.create("languageUtils")}getScriptPartFromCode(e){if(!(e=y(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=y(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(t){if(e(t)&&t.indexOf("-")>-1){let e;try{e=Intl.getCanonicalLocales(t)[0]}catch(e){}return e&&this.options.lowerCaseLng&&(e=e.toLowerCase()),e||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const s=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(s)||(t=s)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const s=this.getLanguagePartFromCode(e);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find((e=>e===s?e:e.indexOf("-")<0&&s.indexOf("-")<0?void 0:e.indexOf("-")>0&&s.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===s||0===e.indexOf(s)&&s.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(t,s){if(!t)return[];if("function"==typeof t&&(t=t(s)),e(t)&&(t=[t]),Array.isArray(t))return t;if(!s)return t.default||[];let n=t[s];return n||(n=t[this.getScriptPartFromCode(s)]),n||(n=t[this.formatLanguageCode(s)]),n||(n=t[this.getLanguagePartFromCode(s)]),n||(n=t.default),n||[]}toResolveHierarchy(t,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],t),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return e(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(t))):e(t)&&r(this.formatLanguageCode(t)),n.forEach((e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))})),i}}const F={zero:0,one:1,two:2,few:3,many:4,other:5},E={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class P{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=x.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=y("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let r;try{r=new Intl.PluralRules(s,{type:n})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),E;if(!e.match(/-|_/))return E;const n=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(n,t)}return this.pluralRulesCache[i]=r,r}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,s).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort(((e,t)=>F[e]-F[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):[]}getSuffix(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getRule(e,s);return n?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const j=function(t,s,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=((e,t,s)=>{const n=u(e,s);return void 0!==n?n:u(t,s)})(t,s,n);return!a&&r&&e(n)&&(a=m(t,n,i),void 0===a&&(a=m(s,n,i))),a},L=e=>e.replace(/\$/g,"$$$$");class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=x.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:n,prefix:i,prefixEscaped:r,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:y,maxReplaces:v,alwaysFormat:b}=e.interpolation;this.escape=void 0!==t?t:p,this.escapeValue=void 0===s||s,this.useRawValueToEscape=void 0!==n&&n,this.prefix=i?h(i):r||"{{",this.suffix=a?h(a):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?h(d):f||h("$t("),this.nestingSuffix=g?h(g):m||h(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=v||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,s,i,r){let a,o,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const t=j(s,u,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(t,void 0,i,{...r,...s,interpolationkey:e}):t}const t=e.split(this.formatSeparator),n=t.shift().trim(),a=t.join(this.formatSeparator).trim();return this.format(j(s,u,n,this.options.keySeparator,this.options.ignoreJSONStructure),a,i,{...r,...s,interpolationkey:n})};this.resetRegExp();const h=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=void 0!==r?.interpolation?.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>L(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?L(this.escape(e)):L(e)}].forEach((s=>{for(l=0;a=s.regex.exec(t);){const i=a[1].trim();if(o=c(i),void 0===o)if("function"==typeof h){const s=h(t,a,r);o=e(s)?s:""}else if(r&&Object.prototype.hasOwnProperty.call(r,i))o="";else{if(d){o=a[0];continue}this.logger.warn(`missed to pass in variable ${i} for interpolating ${t}`),o=""}else e(o)||this.useRawValueToEscape||(o=n(o));const u=s.safeValue(o);if(t=t.replace(a[0],u),d?(s.regex.lastIndex+=o.length,s.regex.lastIndex-=a[0].length):s.regex.lastIndex=0,l++,l>=this.maxReplaces)break}})),t}nest(t,s){let i,r,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=(e,t)=>{const s=this.nestingOptionsSeparator;if(e.indexOf(s)<0)return e;const n=e.split(new RegExp(`${s}[ ]*{`));let i=`{${n[1]}`;e=n[0],i=this.interpolate(i,a);const r=i.match(/'/g),o=i.match(/"/g);((r?.length??0)%2==0&&!o||o.length%2!=0)&&(i=i.replace(/'/g,'"'));try{a=JSON.parse(i),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${s}${i}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,e};for(;i=this.nestingRegexp.exec(t);){let u=[];a={...o},a=a.replace&&!e(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){const e=i[1].split(this.formatSeparator).map((e=>e.trim()));i[1]=e.shift(),u=e,c=!0}if(r=s(l.call(this,i[1].trim(),a),a),r&&i[0]===t&&!e(r))return r;e(r)||(r=n(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),r=""),c&&(r=u.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:i[1].trim()})),r.trim())),t=t.replace(i[0],r),this.regexp.lastIndex=0}return t}}const T=e=>{const t={};return(s,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=n+JSON.stringify(r);let o=t[a];return o||(o=e(y(n),i),t[a]=o),o(s)}};class R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=x.create("formatter"),this.options=e,this.formats={number:T(((e,t)=>{const s=new Intl.NumberFormat(e,{...t});return e=>s.format(e)})),currency:T(((e,t)=>{const s=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>s.format(e)})),datetime:T(((e,t)=>{const s=new Intl.DateTimeFormat(e,{...t});return e=>s.format(e)})),relativetime:T(((e,t)=>{const s=new Intl.RelativeTimeFormat(e,{...t});return e=>s.format(e,t.range||"day")})),list:T(((e,t)=>{const s=new Intl.ListFormat(e,{...t});return e=>s.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=T(t)}format(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce(((e,t)=>{const{formatName:i,formatOptions:r}=(e=>{let t=e.toLowerCase().trim();const s={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);"currency"===t&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...n]=e.split(":"),i=n.join(":").trim().replace(/^'+|'+$/g,""),r=t.trim();s[r]||(s[r]=i),"false"===i&&(s[r]=!1),"true"===i&&(s[r]=!0),isNaN(i)||(s[r]=parseInt(i,10))}}))}return{formatName:t,formatOptions:s}})(t);if(this.formats[i]){let t=e;try{const a=n?.formatParams?.[n.interpolationkey]||{},o=a.locale||a.lng||n.locale||n.lng||s;t=this.formats[i](e,o,{...r,...n,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e)}}class A extends w{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=n,this.logger=x.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,n.backend,n)}queueLoad(e,t,s,n){const i={},r={},a={},o={};return e.forEach((e=>{let n=!0;t.forEach((t=>{const a=`${e}|${t}`;!s.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===r[a]&&(r[a]=!0):(this.state[a]=1,n=!1,void 0===r[a]&&(r[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===o[t]&&(o[t]=!0)))})),n||(a[e]=!0)})),(Object.keys(i).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(r),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,s){const n=e.split("|"),i=n[0],r=n[1];t&&this.emit("failedLoading",i,r,t),!t&&s&&this.store.addResourceBundle(i,r,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const a={};this.queue.forEach((s=>{((e,t,s)=>{const{obj:n,k:i}=o(e,t,Object);n[i]=n[i]||[],n[i].push(s)})(s.loaded,[i],r),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(s,e),t&&s.errors.push(t),0!==s.pendingCount||s.done||(Object.keys(s.loaded).forEach((e=>{a[e]||(a[e]={});const t=s.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:s,tried:n,wait:i,callback:r});this.readingCalls++;const a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&o&&n<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,s,n+1,2*i,r)}),i):r(a,o)},o=this.backend[s].bind(this.backend);if(2!==o.length)return o(e,t,a);try{const s=o(e,t);s&&"function"==typeof s.then?s.then((e=>a(null,e))).catch(a):a(null,s)}catch(e){a(e)}}prepareLoading(t,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();e(t)&&(t=this.languageUtils.toResolveHierarchy(t)),e(s)&&(s=[s]);const r=this.queueLoad(t,s,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=e.split("|"),n=s[0],i=s[1];this.read(n,i,"read",void 0,void 0,((s,r)=>{s&&this.logger.warn(`${t}loading namespace ${i} for language ${n} failed`,s),!s&&r&&this.logger.log(`${t}loaded namespace ${i} for language ${n}`,r),this.loaded(e,s,r)}))}saveMissing(e,t,s,n,i){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=s&&""!==s){if(this.backend?.create){const o={...r,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;i=5===l.length?l(e,t,s,n,o):l(e,t,s,n),i&&"function"==typeof i.then?i.then((e=>a(null,e))).catch(a):a(null,i)}catch(e){a(e)}else l(e,t,s,n,a,o)}e&&e[0]&&this.store.addResource(e[0],t,s,n)}}else this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const N=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let s={};if("object"==typeof t[1]&&(s=t[1]),e(t[1])&&(s.defaultValue=t[1]),e(t[2])&&(s.tDescription=t[2]),"object"==typeof t[2]||"object"==typeof t[3]){const e=t[3]||t[2];Object.keys(e).forEach((t=>{s[t]=e[t]}))}return s},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),V=t=>(e(t.ns)&&(t.ns=[t.ns]),e(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),e(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),"boolean"==typeof t.initImmediate&&(t.initAsync=t.initImmediate),t),M=()=>{};class I extends w{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var s;if(super(),this.options=V(e),this.services={},this.logger=x,this.modules={external:[]},s=this,Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach((e=>{"function"==typeof s[e]&&(s[e]=s[e].bind(s))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var s=this;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof n&&(i=n,n={}),null==n.defaultNS&&n.ns&&(e(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const r=N();this.options={...r,...this.options,...V(n)},this.options.interpolation={...r.interpolation,...this.options.interpolation},void 0!==n.keySeparator&&(this.options.userDefinedKeySeparator=n.keySeparator),void 0!==n.nsSeparator&&(this.options.userDefinedNsSeparator=n.nsSeparator);const a=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?x.init(a(this.modules.logger),this.options):x.init(null,this.options),e=this.modules.formatter?this.modules.formatter:R;const t=new C(this.options);this.store=new k(this.options.resources,this.options);const n=this.services;n.logger=x,n.resourceStore=this.store,n.languageUtils=t,n.pluralResolver=new P(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(n.formatter=a(e),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new D(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new A(a(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];s.emit(e,...n)})),this.modules.languageDetector&&(n.languageDetector=a(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=a(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new $(this.services,this.options),this.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];s.emit(e,...n)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,i||(i=M),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((e=>{this[e]=function(){return s.store[e](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((e=>{this[e]=function(){return s.store[e](...arguments),s}}));const o=t(),l=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),i(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;const n=e(t)?t:this.language;if("function"==typeof t&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===n?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return s();const e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?t(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>t(e))),this.options.preload?.forEach?.((e=>t(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),s(e)}))}else s(null)}reloadResources(e,s,n){const i=t();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof s&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=M),this.services.backendConnector.reload(e,s,(e=>{i.resolve(),n(e)})),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&O.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(s,n){var i=this;this.isLanguageChangingTo=s;const r=t();this.emit("languageChanging",s);const a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,t)=>{t?(a(t),this.translator.changeLanguage(t),this.isLanguageChangingTo=void 0,this.emit("languageChanged",t),this.logger.log("languageChanged",t)):this.isLanguageChangingTo=void 0,r.resolve((function(){return i.t(...arguments)})),n&&n(e,(function(){return i.t(...arguments)}))},l=t=>{s||t||!this.services.languageDetector||(t=[]);const n=e(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||a(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector?.cacheUserLanguage?.(n)),this.loadResources(n,(e=>{o(e,n)}))};return s||!this.services.languageDetector||this.services.languageDetector.async?!s&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(s):l(this.services.languageDetector.detect()),r}getFixedT(t,s,n){var i=this;const r=function(e,t){let s;if("object"!=typeof t){for(var a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];s=i.options.overloadTranslationOptionHandler([e,t].concat(o))}else s={...t};s.lng=s.lng||r.lng,s.lngs=s.lngs||r.lngs,s.ns=s.ns||r.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||n||r.keyPrefix);const u=i.options.keySeparator||".";let c;return c=s.keyPrefix&&Array.isArray(e)?e.map((e=>`${s.keyPrefix}${u}${e}`)):s.keyPrefix?`${s.keyPrefix}${u}${e}`:e,i.t(c,s)};return e(t)?r.lng=t:r.lngs=t,r.ns=s,r.keyPrefix=n,r}t(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===s.toLowerCase())return!0;const r=(e,t)=>{const s=this.services.backendConnector.state[`${e}|${t}`];return-1===s||0===s||2===s};if(t.precheck){const e=t.precheck(this,r);if(void 0!==e)return e}return!(!this.hasResourceBundle(s,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!r(s,e)||n&&!r(i,e)))}loadNamespaces(s,n){const i=t();return this.options.ns?(e(s)&&(s=[s]),s.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{i.resolve(),n&&n(e)})),i):(n&&n(),Promise.resolve())}loadLanguages(s,n){const i=t();e(s)&&(s=[s]);const r=this.options.preload||[],a=s.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return a.length?(this.options.preload=r.concat(a),this.loadResources((e=>{i.resolve(),n&&n(e)})),i):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services?.languageUtils||new C(N());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new I(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;const s=e.forkResourceStore;s&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},i=new I(n);if(void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e)),["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce(((s,n)=>(s[n]={...e[t][n]},s)),{}))),{});i.store=new k(e,n),i.services.resourceStore=i.store}return i.translator=new $(i.services,n),i.translator.on("*",(function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];i.emit(e,...s)})),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const U=I.createInstance();U.createInstance=I.createInstance,U.createInstance,U.dir,U.init,U.loadResources,U.reloadResources,U.use,U.changeLanguage,U.getFixedT,U.t,U.exists,U.setDefaultNamespace,U.hasLoadedNamespace,U.loadNamespaces,U.loadLanguages;var z=s(668),K=s(714),q=s(981),H=s.n(q);const B=Object.prototype.toString,Z=Error.prototype.toString,J=RegExp.prototype.toString,W="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",Y=/^Symbol\((.*)\)(.*)$/;function G(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const s=typeof e;if("number"===s)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===s)return t?`"${e}"`:e;if("function"===s)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===s)return W.call(e).replace(Y,"Symbol($1)");const n=B.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+Z.call(e)+"]":"RegExp"===n?J.call(e):null}function Q(e,t){let s=G(e,t);return null!==s?s:JSON.stringify(e,(function(e,s){let n=G(this[e],t);return null!==n?n:s}),2)}function X(e){return null==e?[]:[].concat(e)}let ee,te,se,ne=/\$\{\s*(\w+)\s*\}/g;ee=Symbol.toStringTag;class ie{constructor(e,t,s,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ee]="Error",this.name="ValidationError",this.value=t,this.path=s,this.type=n,this.errors=[],this.inner=[],X(e).forEach((e=>{if(re.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}te=Symbol.hasInstance,se=Symbol.toStringTag;class re extends Error{static formatError(e,t){const s=t.label||t.path||"this";return t=Object.assign({},t,{path:s,originalPath:t.path}),"string"==typeof e?e.replace(ne,((e,s)=>Q(t[s]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,s,n,i){const r=new ie(e,t,s,n);if(i)return r;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[se]="Error",this.name=r.name,this.message=r.message,this.type=r.type,this.value=r.value,this.path=r.path,this.errors=r.errors,this.inner=r.inner,Error.captureStackTrace&&Error.captureStackTrace(this,re)}static[te](e){return ie[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ae={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:s,originalValue:n})=>{const i=null!=n&&n!==s?` (cast from the value \`${Q(n,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${Q(s,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Q(s,!0)}\``+i}},oe={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},le={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ue={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ce={isValue:"${path} field must be ${value}"},he={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},de={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},pe={notType:e=>{const{path:t,value:s,spec:n}=e,i=n.types.length;if(Array.isArray(s)){if(s.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${s.length} for value: \`${Q(s,!0)}\``;if(s.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${s.length} for value: \`${Q(s,!0)}\``}return re.formatError(ae.notType,e)}};var fe=Object.assign(Object.create(null),{mixed:ae,string:oe,number:le,date:ue,object:he,array:de,boolean:ce,tuple:pe});const ge=e=>e&&e.__isYupSchema__;class me{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:n,otherwise:i}=t,r="function"==typeof s?s:(...e)=>e.every((e=>e===s));return new me(e,((e,t)=>{var s;let a=r(...e)?n:i;return null!=(s=null==a?void 0:a(t))?s:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let s=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),n=this.fn(s,e,t);if(void 0===n||n===e)return e;if(!ge(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}}class ye{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext="$"===this.key[0],this.isValue="."===this.key[0],this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?"$":this.isValue?".":"";this.path=this.key.slice(s.length),this.getter=this.path&&(0,z.getter)(this.path,!0),this.map=t.map}getValue(e,t,s){let n=this.isContext?s:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ye.prototype.__isYupRef=!0;const ve=e=>null==e;function be(e){function t({value:t,path:s="",options:n,originalValue:i,schema:r},a,o){const{name:l,test:u,params:c,message:h,skipAbsent:d}=e;let{parent:p,context:f,abortEarly:g=r.spec.abortEarly,disableStackTrace:m=r.spec.disableStackTrace}=n;function y(e){return ye.isRef(e)?e.getValue(t,p,f):e}function v(e={}){const n=Object.assign({value:t,originalValue:i,label:r.spec.label,path:e.path||s,spec:r.spec,disableStackTrace:e.disableStackTrace||m},c,e.params);for(const e of Object.keys(n))n[e]=y(n[e]);const a=new re(re.formatError(e.message||h,n),t,n.path,e.type||l,n.disableStackTrace);return a.params=n,a}const b=g?a:o;let x={path:s,parent:p,type:l,from:n.from,createError:v,resolve:y,options:n,originalValue:i,schema:r};const w=e=>{re.isError(e)?b(e):e?o(null):b(v())},k=e=>{re.isError(e)?b(e):a(e)};if(d&&ve(t))return w(!0);let O;try{var S;if(O=u.call(x,t,x),"function"==typeof(null==(S=O)?void 0:S.then)){if(n.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(w,k)}}catch(e){return void k(e)}w(O)}return t.OPTIONS=e,t}function xe(e,t,s,n=s){let i,r,a;return t?((0,z.forEach)(t,((o,l,u)=>{let c=l?o.slice(1,o.length-1):o,h="tuple"===(e=e.resolve({context:n,parent:i,value:s})).type,d=u?parseInt(c,10):0;if(e.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(s&&d>=s.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);i=s,s=s&&s[d],e=h?e.spec.types[d]:e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e.type}")`);i=s,s=s&&s[c],e=e.fields[c]}r=c,a=l?"["+o+"]":"."+o})),{schema:e,parent:i,parentPath:r}):{parent:i,parentPath:t,schema:e}}class we extends Set{describe(){const e=[];for(const t of this.values())e.push(ye.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const s of this.values())t.push(e(s));return t}clone(){return new we(this.values())}merge(e,t){const s=this.clone();return e.forEach((e=>s.add(e))),t.forEach((e=>s.delete(e))),s}}function ke(e,t=new Map){if(ge(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let s;if(e instanceof Date)s=new Date(e.getTime()),t.set(e,s);else if(e instanceof RegExp)s=new RegExp(e),t.set(e,s);else if(Array.isArray(e)){s=new Array(e.length),t.set(e,s);for(let n=0;n<e.length;n++)s[n]=ke(e[n],t)}else if(e instanceof Map){s=new Map,t.set(e,s);for(const[n,i]of e.entries())s.set(n,ke(i,t))}else if(e instanceof Set){s=new Set,t.set(e,s);for(const n of e)s.add(ke(n,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);s={},t.set(e,s);for(const[n,i]of Object.entries(e))s[n]=ke(i,t)}return s}class Oe{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new we,this._blacklist=new we,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(ae.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=ke(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let s=e(this);return this._mutate=t,s}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,s=e.clone();const n=Object.assign({},t.spec,s.spec);return s.spec=n,s.internalTests=Object.assign({},t.internalTests,s.internalTests),s._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),s._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),s.tests=t.tests,s.exclusiveTests=t.exclusiveTests,s.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),s.transforms=[...t.transforms,...s.transforms],s}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let s=t.conditions;t=t.clone(),t.conditions=[],t=s.reduce(((t,s)=>s.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,s,n,i;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(s=e.abortEarly)?s:this.spec.abortEarly,recursive:null!=(n=e.recursive)?n:this.spec.recursive,disableStackTrace:null!=(i=e.disableStackTrace)?i:this.spec.disableStackTrace})}cast(e,t={}){let s=this.resolve(Object.assign({value:e},t)),n="ignore-optionality"===t.assert,i=s._cast(e,t);if(!1!==t.assert&&!s.isType(i)){if(n&&ve(i))return i;let r=Q(e),a=Q(i);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${s.type}". \n\nattempted value: ${r} \n`+(a!==r?`result of cast: ${a}`:""))}return i}_cast(e,t){let s=void 0===e?e:this.transforms.reduce(((t,s)=>s.call(this,t,e,this)),e);return void 0===s&&(s=this.getDefault(t)),s}_validate(e,t={},s,n){let{path:i,originalValue:r=e,strict:a=this.spec.strict}=t,o=e;a||(o=this._cast(o,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:i,value:o,originalValue:r,options:t,tests:l},s,(e=>{if(e.length)return n(e,o);this.runTests({path:i,value:o,originalValue:r,options:t,tests:this.tests},s,n)}))}runTests(e,t,s){let n=!1,{tests:i,value:r,originalValue:a,path:o,options:l}=e,u=e=>{n||(n=!0,t(e,r))},c=e=>{n||(n=!0,s(e,r))},h=i.length,d=[];if(!h)return c([]);let p={value:r,originalValue:a,path:o,options:l,schema:this};for(let e=0;e<i.length;e++)(0,i[e])(p,u,(function(e){e&&(Array.isArray(e)?d.push(...e):d.push(e)),--h<=0&&c(d)}))}asNestedTest({key:e,index:t,parent:s,parentPath:n,originalParent:i,options:r}){const a=null!=e?e:t;if(null==a)throw TypeError("Must include `key` or `index` for nested validations");const o="number"==typeof a;let l=s[a];const u=Object.assign({},r,{strict:!0,parent:s,value:l,originalValue:i[a],key:void 0,[o?"index":"key"]:a,path:o||a.includes(".")?`${n||""}[${o?a:`"${a}"`}]`:(n?`${n}.`:"")+e});return(e,t,s)=>this.resolve(u)._validate(l,u,t,s)}validate(e,t){var s;let n=this.resolve(Object.assign({},t,{value:e})),i=null!=(s=null==t?void 0:t.disableStackTrace)?s:n.spec.disableStackTrace;return new Promise(((s,r)=>n._validate(e,t,((e,t)=>{re.isError(e)&&(e.value=t),r(e)}),((e,t)=>{e.length?r(new re(e,t,void 0,void 0,i)):s(t)}))))}validateSync(e,t){var s;let n,i=this.resolve(Object.assign({},t,{value:e})),r=null!=(s=null==t?void 0:t.disableStackTrace)?s:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw re.isError(e)&&(e.value=t),e}),((t,s)=>{if(t.length)throw new re(t,e,void 0,void 0,r);n=s})),n}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(re.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(re.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):ke(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return 0===arguments.length?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const s=this.clone({nullable:e});return s.internalTests.nullable=be({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),s}optionality(e,t){const s=this.clone({optional:e});return s.internalTests.optionality=be({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),s}optional(){return this.optionality(!0)}defined(e=ae.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ae.notNull){return this.nullability(!1,e)}required(e=ae.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=ae.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let s=this.clone(),n=be(t),i=t.exclusive||t.name&&!0===s.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(s.exclusiveTests[t.name]=!!t.exclusive),s.tests=s.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(i)return!1;if(e.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),s.tests.push(n),s}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let s=this.clone(),n=X(e).map((e=>new ye(e)));return n.forEach((e=>{e.isSibling&&s.deps.push(e.key)})),s.conditions.push("function"==typeof t?new me(n,t):me.fromOptions(n,t)),s}typeError(e){let t=this.clone();return t.internalTests.typeError=be({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=ae.oneOf){let s=this.clone();return e.forEach((e=>{s._whitelist.add(e),s._blacklist.delete(e)})),s.internalTests.whiteList=be({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,s=t.resolveAll(this.resolve);return!!s.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:s}})}}),s}notOneOf(e,t=ae.notOneOf){let s=this.clone();return e.forEach((e=>{s._blacklist.add(e),s._whitelist.delete(e)})),s.internalTests.blacklist=be({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,s=t.resolveAll(this.resolve);return!s.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:s}})}}),s}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:s,meta:n,optional:i,nullable:r}=t.spec;return{meta:n,label:s,optional:i,nullable:r,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,s)=>s.findIndex((t=>t.name===e.name))===t))}}}Oe.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Oe.prototype[`${e}At`]=function(t,s,n={}){const{parent:i,parentPath:r,schema:a}=xe(this,t,s,n.context);return a[e](i&&i[r],Object.assign({},n,{parent:i,path:t}))};for(const e of["equals","is"])Oe.prototype[e]=Oe.prototype.oneOf;for(const e of["not","nope"])Oe.prototype[e]=Oe.prototype.notOneOf;const Se=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function _e(e){var t,s;const n=Se.exec(e);return n?{year:$e(n[1]),month:$e(n[2],1)-1,day:$e(n[3],1),hour:$e(n[4]),minute:$e(n[5]),second:$e(n[6]),millisecond:n[7]?$e(n[7].substring(0,3)):0,precision:null!=(t=null==(s=n[7])?void 0:s.length)?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:$e(n[10]),minuteOffset:$e(n[11])}:null}function $e(e,t=0){return Number(e)||t}let Ce=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Fe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Ee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Pe=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),je=e=>ve(e)||e===e.trim(),Le={}.toString();function De(){return new Te}class Te extends Oe{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,s)=>{if(!s.spec.coerce||s.isType(e))return e;if(Array.isArray(e))return e;const n=null!=e&&e.toString?e.toString():e;return n===Le?e:n}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||ae.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=oe.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=oe.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=oe.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let s,n,i=!1;return t&&("object"==typeof t?({excludeEmptyString:i=!1,message:s,name:n}=t):s=t),this.test({name:n||"matches",message:s||oe.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&i||-1!==t.search(e)})}email(e=oe.email){return this.matches(Ce,{name:"email",message:e,excludeEmptyString:!0})}url(e=oe.url){return this.matches(Fe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=oe.uuid){return this.matches(Ee,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,s,n="";return e&&("object"==typeof e?({message:n="",allowOffset:t=!1,precision:s}=e):n=e),this.matches(Pe,{name:"datetime",message:n||oe.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||oe.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const s=_e(e);return!!s&&!!s.z}}).test({name:"datetime_precision",message:n||oe.datetime_precision,params:{precision:s},skipAbsent:!0,test:e=>{if(!e||null==s)return!0;const t=_e(e);return!!t&&t.precision===s}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=oe.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:je})}lowercase(e=oe.lowercase){return this.transform((e=>ve(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>ve(e)||e===e.toLowerCase()})}uppercase(e=oe.uppercase){return this.transform((e=>ve(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>ve(e)||e===e.toUpperCase()})}}De.prototype=Te.prototype;let Re=new Date("");function Ae(){return new Ne}class Ne extends Oe{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,s)=>!s.spec.coerce||s.isType(e)||null===e?e:(e=function(e){const t=_e(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let s=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(s=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(s=0-s)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+s,t.second,t.millisecond)}(e),isNaN(e)?Ne.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let s;if(ye.isRef(e))s=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);s=n}return s}min(e,t=ue.min){let s=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(s)}})}max(e,t=ue.max){let s=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(s)}})}}function Ve(e,t){let s=1/0;return e.some(((e,n)=>{var i;if(null!=(i=t.path)&&i.includes(e))return s=n,!0})),s}function Me(e){return(t,s)=>Ve(e,t)-Ve(e,s)}Ne.INVALID_DATE=Re,Ae.prototype=Ne.prototype,Ae.INVALID_DATE=Re;const Ie=(e,t,s)=>{if("string"!=typeof e)return e;let n=e;try{n=JSON.parse(e)}catch(e){}return s.isType(n)?n:e};function Ue(e){if("fields"in e){const t={};for(const[s,n]of Object.entries(e.fields))t[s]=Ue(n);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=Ue(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(Ue)}):"optional"in e?e.optional():e}let ze=e=>"[object Object]"===Object.prototype.toString.call(e);function Ke(e,t){let s=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===s.indexOf(e)))}const qe=Me([]);function He(e){return new Be(e)}class Be extends Oe{constructor(e){super({type:"object",check:e=>ze(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=qe,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var s;let n=super._cast(e,t);if(void 0===n)return this.getDefault(t);if(!this._typeCheck(n))return n;let i=this.fields,r=null!=(s=t.stripUnknown)?s:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(n).filter((e=>!this._nodes.includes(e)))),o={},l=Object.assign({},t,{parent:o,__validating:t.__validating||!1}),u=!1;for(const e of a){let s=i[e],a=e in n;if(s){let i,r=n[e];l.path=(t.path?`${t.path}.`:"")+e,s=s.resolve({value:r,context:t.context,parent:o});let a=s instanceof Oe?s.spec:void 0,c=null==a?void 0:a.strict;if(null!=a&&a.strip){u=u||e in n;continue}i=t.__validating&&c?n[e]:s.cast(n[e],l),void 0!==i&&(o[e]=i)}else a&&!r&&(o[e]=n[e]);a===e in o&&o[e]===n[e]||(u=!0)}return u?o:n}_validate(e,t={},s,n){let{from:i=[],originalValue:r=e,recursive:a=this.spec.recursive}=t;t.from=[{schema:this,value:r},...i],t.__validating=!0,t.originalValue=r,super._validate(e,t,s,((e,i)=>{if(!a||!ze(i))return void n(e,i);r=r||i;let o=[];for(let e of this._nodes){let s=this.fields[e];s&&!ye.isRef(s)&&o.push(s.asNestedTest({options:t,key:e,parent:i,parentPath:t.path,originalParent:r}))}this.runTests({tests:o,value:i,originalValue:r,options:t},s,(t=>{n(t.sort(this._sortErrors).concat(e),i)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),s=t.fields;for(let[e,t]of Object.entries(this.fields)){const n=s[e];s[e]=void 0===n?t:n}return t.withMutation((t=>t.setFields(s,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((s=>{var n;const i=this.fields[s];let r=e;null!=(n=r)&&n.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[s]})),t[s]=i&&"getDefault"in i?i.getDefault(r):void 0})),t}setFields(e,t){let s=this.clone();return s.fields=e,s._nodes=function(e,t=[]){let s=[],n=new Set,i=new Set(t.map((([e,t])=>`${e}-${t}`)));function r(e,t){let r=(0,z.split)(e)[0];n.add(r),i.has(`${t}-${r}`)||s.push([t,r])}for(const t of Object.keys(e)){let s=e[t];n.add(t),ye.isRef(s)&&s.isSibling?r(s.path,t):ge(s)&&"deps"in s&&s.deps.forEach((e=>r(e,t)))}return H().array(Array.from(n),s).reverse()}(e,t),s._sortErrors=Me(Object.keys(e)),t&&(s._excludedEdges=t),s}shape(e,t=[]){return this.clone().withMutation((s=>{let n=s._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),n=[...s._excludedEdges,...t]),s.setFields(Object.assign(s.fields,e),n)}))}partial(){const e={};for(const[t,s]of Object.entries(this.fields))e[t]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(e)}deepPartial(){return Ue(this)}pick(e){const t={};for(const s of e)this.fields[s]&&(t[s]=this.fields[s]);return this.setFields(t,this._excludedEdges.filter((([t,s])=>e.includes(t)&&e.includes(s))))}omit(e){const t=[];for(const s of Object.keys(this.fields))e.includes(s)||t.push(s);return this.pick(t)}from(e,t,s){let n=(0,z.getter)(e,!0);return this.transform((i=>{if(!i)return i;let r=i;return((e,t)=>{const s=[...(0,z.normalizePath)(t)];if(1===s.length)return s[0]in e;let n=s.pop(),i=(0,z.getter)((0,z.join)(s),!0)(e);return!(!i||!(n in i))})(i,e)&&(r=Object.assign({},i),s||delete r[e],r[t]=n(i)),r}))}json(){return this.transform(Ie)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||he.exact,test(e){if(null==e)return!0;const t=Ke(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=he.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const s=Ke(this.schema,t);return!e||0===s.length||this.createError({params:{unknown:s.join(", ")}})}});return s.spec.noUnknown=e,s}unknown(e=!0,t=he.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const s={};for(const n of Object.keys(t))s[e(n)]=t[n];return s}))}camelCase(){return this.transformKeys(K.camelCase)}snakeCase(){return this.transformKeys(K.snakeCase)}constantCase(){return this.transformKeys((e=>(0,K.snakeCase)(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),s=super.describe(e);s.fields={};for(const[i,r]of Object.entries(t.fields)){var n;let t=e;null!=(n=t)&&n.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[i]})),s.fields[i]=r.describe(t)}return s}}He.prototype=Be.prototype;const Ze={ru:{translation:{requiredField:"обязательное поле",invalidMin:"минимум {{count}} символ",invalidMin_few:"минимум {{count}} символа",invalidMin_many:"минимум {{count}} символов",invalidMax:"максимум {{count}} символ",invalidMax_few:"максимум {{count}} символа",invalidMax_many:"максимум {{count}} символов",mustMatch:"пароли должны совпадать"}}},Je=".",We=Symbol("target"),Ye=Symbol("unsubscribe");function Ge(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}const Qe=Array.isArray;function Xe(e){return"symbol"==typeof e}const et={after:(e,t)=>Qe(e)?e.slice(t.length):""===t?e:e.slice(t.length+1),concat:(e,t)=>Qe(e)?(e=[...e],t&&e.push(t),e):t&&void 0!==t.toString?(""!==e&&(e+=Je),Xe(t)?e+t.toString():e+t):e,initial(e){if(Qe(e))return e.slice(0,-1);if(""===e)return e;const t=e.lastIndexOf(Je);return-1===t?"":e.slice(0,t)},last(e){if(Qe(e))return e.at(-1)??"";if(""===e)return e;const t=e.lastIndexOf(Je);return-1===t?e:e.slice(t+1)},walk(e,t){if(Qe(e))for(const s of e)t(s);else if(""!==e){let s=0,n=e.indexOf(Je);if(-1===n)t(e);else for(;s<e.length;)-1===n&&(n=e.length),t(e.slice(s,n)),s=n+1,n=e.indexOf(Je,s)}},get(e,t){return this.walk(t,(t=>{e&&(e=e[t])})),e},isSubPath(e,t){if(Qe(e)){if(e.length<t.length)return!1;for(let s=0;s<t.length;s++)if(e[s]!==t[s])return!1;return!0}return!(e.length<t.length||e!==t&&(!e.startsWith(t)||e[t.length]!==Je))},isRootPath:e=>Qe(e)?0===e.length:""===e},tt=et;function st(e,t,s){return e.isUnsubscribed||t.ignoreSymbols&&Xe(s)||t.ignoreUnderscores&&"_"===s.charAt(0)||"ignoreKeys"in t&&t.ignoreKeys.includes(s)}class nt{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return void 0===this._descriptorCache&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){const t=this._getDescriptorCache();let s=t.get(e);return void 0===s&&(s={},t.set(e,s)),s}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);const s=this._getProperties(e);let n=s[t];return void 0===n&&(n=Reflect.getOwnPropertyDescriptor(e,t),s[t]=n),n}getProxy(e,t,s,n){if(this.isUnsubscribed)return e;const i=e[n],r=i??e;this._pathCache.set(r,t);let a=this._proxyCache.get(r);return void 0===a&&(a=void 0===i?new Proxy(e,s):e,this._proxyCache.set(r,a)),a}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,tt.get(t,this.getPath(e)))}defineProperty(e,t,s){return!!Reflect.defineProperty(e,t,s)&&(this.isUnsubscribed||(this._getProperties(e)[t]=s),!0)}setProperty(e,t,s,n,i){if(!this._equals(i,s)||!(t in e)){const i=this._getOwnPropertyDescriptor(e,t);return void 0!==i&&"set"in i?Reflect.set(e,t,s,n):Reflect.set(e,t,s)}return!0}deleteProperty(e,t,s){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){const n=this._getDescriptorCache().get(e);n&&(delete n[t],this._pathCache.delete(s))}return!0}return!1}isSameDescriptor(e,t,s){const n=this._getOwnPropertyDescriptor(t,s);return void 0!==e&&void 0!==n&&Object.is(e.value,n.value)&&(e.writable||!1)===(n.writable||!1)&&(e.enumerable||!1)===(n.enumerable||!1)&&(e.configurable||!1)===(n.configurable||!1)&&e.get===n.get&&e.set===n.set}isGetInvariant(e,t){const s=this._getOwnPropertyDescriptor(e,t);return void 0!==s&&!0!==s.configurable&&!0!==s.writable}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}}function it(e){return"[object Object]"===toString.call(e)}function rt(){return!0}function at(e,t){return e.length!==t.length||e.some(((e,s)=>t[s]!==e))}const ot=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),lt=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),ut={push:rt,pop:rt,shift:rt,unshift:rt,copyWithin:at,reverse:at,sort:at,splice:at,flat:at,fill:at},ct=new Set([...ot,...lt,...Object.keys(ut)]);function ht(e,t){if(e.size!==t.size)return!0;for(const s of e)if(!t.has(s))return!0;return!1}const dt=["keys","values","entries"],pt=new Set(["has","toString"]),ft={add:ht,clear:ht,delete:ht,forEach:ht},gt=new Set([...pt,...Object.keys(ft),...dt]);function mt(e,t){if(e.size!==t.size)return!0;let s;for(const[n,i]of e)if(s=t.get(n),s!==i||void 0===s&&!t.has(n))return!0;return!1}const yt=new Set([...pt,"get"]),vt={set:mt,clear:mt,delete:mt,forEach:mt},bt=new Set([...yt,...Object.keys(vt),...dt]);class xt{constructor(e,t,s,n){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=n,this._changes=n?[]:null,this.clone=void 0===t?e:this._shallowClone(e)}static isHandledMethod(e){return ot.has(e)}_shallowClone(e){let t=e;if(it(e))t={...e};else if(Qe(e)||ArrayBuffer.isView(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map((e=>this._shallowClone(e))));else if(e instanceof Map){t=new Map;for(const[s,n]of e.entries())t.set(s,this._shallowClone(n))}return this._clonedCache.add(t),t}preferredThisArg(e,t,s,n){return e?(Qe(n)?this._onIsChanged=ut[t]:n instanceof Set?this._onIsChanged=ft[t]:n instanceof Map&&(this._onIsChanged=vt[t]),n):s}update(e,t,s){const n=tt.after(e,this._path);if("length"!==t){let e=this.clone;tt.walk(n,(t=>{e?.[t]&&(this._clonedCache.has(e[t])||(e[t]=this._shallowClone(e[t])),e=e[t])})),this._hasOnValidate&&this._changes.push({path:n,property:t,previous:s}),e?.[t]&&(e[t]=s)}this._isChanged=!0}undo(e){let t;for(let s=this._changes.length-1;-1!==s;s--)t=this._changes[s],tt.get(e,t.path)[t.property]=t.previous}isChanged(e){return void 0===this._onIsChanged?this._isChanged:this._onIsChanged(this.clone,e)}isPathApplicable(e){return tt.isRootPath(this._path)||tt.isSubPath(e,this._path)}}class wt extends xt{static isHandledMethod(e){return ct.has(e)}}class kt extends xt{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}}class Ot extends xt{static isHandledMethod(e){return gt.has(e)}undo(e){for(const t of this.clone)e.add(t);for(const t of e)this.clone.has(t)||e.delete(t)}}class St extends xt{static isHandledMethod(e){return bt.has(e)}undo(e){for(const[t,s]of this.clone.entries())e.set(t,s);for(const t of e.keys())this.clone.has(t)||e.delete(t)}}class _t extends xt{constructor(e,t,s,n){super(void 0,t,s,n),this._argument1=s[0],this._weakValue=e.has(this._argument1)}isChanged(e){return this._weakValue!==e.has(this._argument1)}undo(e){this._weakValue&&!e.has(this._argument1)?e.add(this._argument1):e.delete(this._argument1)}}class $t extends xt{constructor(e,t,s,n){super(void 0,t,s,n),this._weakKey=s[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){const t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}}class Ct{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return it(e)||Qe(e)||Ge(e)}static isHandledMethod(e,t){return it(e)?xt.isHandledMethod(t):Qe(e)?wt.isHandledMethod(t):e instanceof Set?Ot.isHandledMethod(t):e instanceof Map?St.isHandledMethod(t):Ge(e)}get isCloning(){return this._stack.length>0}start(e,t,s){let n=xt;Qe(e)?n=wt:e instanceof Date?n=kt:e instanceof Set?n=Ot:e instanceof Map?n=St:e instanceof WeakSet?n=_t:e instanceof WeakMap&&(n=$t),this._stack.push(new n(e,t,s,this._hasOnValidate))}update(e,t,s){this._stack.at(-1).update(e,t,s)}preferredThisArg(e,t,s){const{name:n}=e,i=Ct.isHandledMethod(s,n);return this._stack.at(-1).preferredThisArg(i,n,t,s)}isChanged(e,t,s){return this._stack.at(-1).isChanged(e,t,s)}isPartOfClone(e){return this._stack.at(-1).isPathApplicable(e)}undo(e){void 0!==this._previousClone&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}}const Ft={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},Et=(e,t,s={})=>{s={...Ft,...s};const n=Symbol("ProxyTarget"),{equals:i,isShallow:r,ignoreDetached:a,details:o}=s,l=new nt(i),u="function"==typeof s.onValidate,c=new Ct(u),h=(e,t,n,i,r)=>!u||c.isCloning||!0===s.onValidate(tt.concat(l.getPath(e),t),n,i,r),d=(t,n,i,r)=>{st(l,s,n)||a&&l.isDetached(t,e)||p(l.getPath(t),n,i,r)},p=(e,s,n,i,r)=>{c.isCloning&&c.isPartOfClone(e)?c.update(e,s,i):t(tt.concat(e,s),n,i,r)},f=e=>e?e[n]??e:e,g=(t,i,o,u)=>{if(function(e){return("object"==typeof e?null===e:"function"!=typeof e)||e instanceof RegExp}(t)||"constructor"===o||r&&!Ct.isHandledMethod(i,o)||st(l,s,o)||l.isGetInvariant(i,o)||a&&l.isDetached(i,e))return t;void 0===u&&(u=l.getPath(i));const c=tt.concat(u,o),h=l.getPath(t);return h&&m(c,h)?l.getProxy(t,h,y,n):l.getProxy(t,c,y,n)},m=(e,t)=>{if(Xe(e)||e.length<=t.length)return!1;if(Qe(t)&&0===t.length)return!1;const s=Qe(e)?e:e.split(Je),n=Qe(t)?t:t.split(Je);return!(s.length<=n.length||n.some(((e,t)=>e!==s[t])))},y={get(e,t,s){if(Xe(t)){if(t===n||t===We)return e;if(t===Ye&&!l.isUnsubscribed&&0===l.getPath(e).length)return l.unsubscribe(),e}const i=Ge(e)?Reflect.get(e,t):Reflect.get(e,t,s);return g(i,e,t)},set(e,t,s,r){s=f(s);const a=e[n]??e,o=a[t];if(i(o,s)&&t in e)return!0;const u=h(e,t,s,o);return u&&l.setProperty(a,t,s,r,o)?(d(e,t,e[t],o),!0):!u},defineProperty(e,t,s){if(!l.isSameDescriptor(s,e,t)){const n=e[t];h(e,t,s.value,n)&&l.defineProperty(e,t,s,n)&&d(e,t,s.value,n)}return!0},deleteProperty(e,t){if(!Reflect.has(e,t))return!0;const s=Reflect.get(e,t),n=h(e,t,void 0,s);return n&&l.deleteProperty(e,t,s)?(d(e,t,void 0,s),!0):!n},apply(t,s,r){const a=s[n]??s;if(l.isUnsubscribed)return Reflect.apply(t,a,r);if((!1===o||!0!==o&&!o.includes(t.name))&&Ct.isHandledType(a)){let n=tt.initial(l.getPath(t));const o=Ct.isHandledMethod(a,t.name);c.start(a,n,r);let d=Reflect.apply(t,c.preferredThisArg(t,s,a),o?r.map((e=>f(e))):r);const m=c.isChanged(a,i),v=c.stop();if(Ct.isHandledType(d)&&o&&(s instanceof Map&&"get"===t.name&&(n=tt.concat(n,r[0])),d=l.getProxy(d,n,y)),m){const s={name:t.name,args:r,result:d},i=c.isCloning?tt.initial(n):n,o=c.isCloning?tt.last(n):"";h(tt.get(e,i),o,a,v,s)?p(i,o,a,v,s):c.undo(a)}return(s instanceof Map||s instanceof Set)&&"object"==typeof(u=d)&&"function"==typeof u.next?function(e,t,s,n,i){const r=e.next;if("entries"===t.name)e.next=function(){const e=r.call(this);return!1===e.done&&(e.value[0]=i(e.value[0],t,e.value[0],n),e.value[1]=i(e.value[1],t,e.value[0],n)),e};else if("values"===t.name){const a=s[We].keys();e.next=function(){const e=r.call(this);return!1===e.done&&(e.value=i(e.value,t,a.next().value,n)),e}}else e.next=function(){const e=r.call(this);return!1===e.done&&(e.value=i(e.value,t,e.value,n)),e};return e}(d,t,s,n,g):d}var u;return Reflect.apply(t,s,r)}},v=l.getProxy(e,s.pathAsArray?[]:"",y);return t=t.bind(v),u&&(s.onValidate=s.onValidate.bind(v)),v};Et.target=e=>e?.[We]??e,Et.unsubscribe=e=>e?.[Ye]??e;const Pt=Et;(async()=>{const e=U.createInstance();function t(e,t,s){const n=document.createElement("div");n.classList.add("mb-3");const i=document.createElement("label");i.classList.add("form-label"),i.setAttribute("for",e),i.textContent=t;const r=document.createElement("input");r.classList.add("form-control"),r.id=e,r.type=s,r.name=e;const a=document.createElement("div");return a.classList.add("invalid-feedback"),a.id=`error-${e}`,n.appendChild(i),n.appendChild(r),n.appendChild(a),n}await e.init({lng:"ru",debug:!0,resources:{ru:Ze.ru}});const s=document.getElementById("form"),n=document.createElement("h2");n.classList.add("mb-5"),n.textContent="Регистрация";const i=t("username","Имя пользователя","text"),r=t("password","Пароль","password"),a=t("confirmPassword","Подтвердите пароль","password"),o=document.createElement("button");var l;o.type="submit",o.classList.add("btn","btn-primary","mt-3"),o.textContent="Зарегистрироваться",s.appendChild(n),s.appendChild(i),s.appendChild(r),s.appendChild(a),s.appendChild(o),l={mixed:{required:({path:e})=>({key:"requiredField",values:{field:e}}),default:"Invalid value"},string:{min:({min:e})=>({key:"invalidMin",values:{count:e}}),max:({max:e})=>({key:"invalidMax",values:{count:e}})}},Object.keys(l).forEach((e=>{Object.keys(l[e]).forEach((t=>{fe[e][t]=l[e][t]}))}));const u=He({username:De().min(3).max(10).required(),password:De().min(6).max(12).required(),confirmPassword:De().oneOf([new ye("password",undefined)],{key:"mustMatch"}).required()});const c=(e=>{const t=e.userNameDiv.querySelector("#username"),s=e.userNameDiv.querySelector("#error-username"),n=e.passwordDiv.querySelector("#password"),i=e.passwordDiv.querySelector("#error-password"),r=e.confirmPasswordDiv.querySelector("#confirmPassword"),a=e.confirmPasswordDiv.querySelector("#error-confirmPassword"),o={username:t,password:n,confirmPassword:r},l={username:s,password:i,confirmPassword:a};return Pt({username:null,password:null,confirmPassword:null,errors:{username:null,password:null,confirmPassword:null}},((e,t,s)=>{if(e.startsWith("errors")){const s=e.split(".")[1];return void(l[s].textContent=t||"")}const n=o[e];n.classList.remove(s),n.classList.add(t)}))})({userNameDiv:i,passwordDiv:r,confirmPasswordDiv:a});o.addEventListener("click",(async t=>{var n;t.preventDefault(),n=c.errors,Object.keys(n).forEach((e=>{n[e]=null}));const i=new FormData(s),r={username:i.get("username"),password:i.get("password"),confirmPassword:i.get("confirmPassword")};console.log(r);try{await u.validate(r,{abortEarly:!1})}catch(t){t.inner.forEach((t=>{c.errors[t.path]=e.t(t.message.key,t.message.values)}))}Object.keys(c.errors).forEach((e=>{const t=c.errors[e];c[e]=t?"is-invalid":"is-valid"}))}))})()})()})();